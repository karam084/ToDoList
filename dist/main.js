(()=>{"use strict";var e,t,n={},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={id:e,exports:{}};return n[e](i,i.exports,r),i.exports}r.m=n,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>e+".main.js",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="to-do-list:",r.l=(n,o,i,a)=>{if(e[n])e[n].push(o);else{var s,l;if(void 0!==i)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+i){s=u;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[o];var p=(t,o)=>{s.onerror=s.onload=null,clearTimeout(h);var r=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((e=>e(o))),t)return t(o)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={179:0};r.f.j=(t,n)=>{var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=i);var a=r.p+r.u(t),s=new Error;r.l(a,(n=>{if(r.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",s.name="ChunkLoadError",s.type=i,s.request=a,o[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,i,[a,s,l]=n,d=0;if(a.some((t=>0!==e[t]))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);l&&l(r)}for(t&&t(n);d<a.length;d++)i=a[d],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkto_do_list=self.webpackChunkto_do_list||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();const i=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"localStorage";try{e=window[t];var n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(e){return!1}};function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"todos";a(this,e),this.wrapper=t,this.storageName=n,this.isStorageAvailable=i("localStorage"),this.init()}var t,n;return t=e,(n=[{key:"init",value:function(){if(this.isStorageAvailable){var e=window.localStorage.getItem(this.storageName);this.todos=JSON.parse(e)||[],this.todos=this.sortList(),window.localStorage.setItem(this.storageName,JSON.stringify(this.todos))}else this.todos=[];this.addAllToPage()}},{key:"updateStorage",value:function(){this.isStorageAvailable&&window.localStorage.setItem(this.storageName,JSON.stringify(this.todos))}},{key:"sortList",value:function(){var e=this.todos.sort((function(e,t){return e.index-t.index}));return e.map((function(e,t){return{index:t,description:e.description,completed:e.completed}}))}},{key:"addAllToPage",value:function(){var e=this;this.todos.forEach((function(t){e.addToPage(t)}))}},{key:"removeAllFromPage",value:function(){this.wrapper.innerHTML=""}},{key:"addToPage",value:function(e){var t=this,n=document.createElement("li");n.classList.add("todo"),n.setAttribute("id","todo-".concat(e.index));var o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("completionIcon","icon"),o.innerHTML='\n    <svg\n      class="icon"\n      fill="none"\n      stroke="currentColor"\n      viewBox="0 0 24 24"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <path\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="2"\n        d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"\n      ></path>\n    </svg>\n    <svg\n      class="icon"\n      fill="none"\n      stroke="currentColor"\n      viewBox="0 0 24 24"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <path\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="2"\n        d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"\n      ></path>\n    </svg>\n    ',o.addEventListener("click",(function(e){e.preventDefault(),t.toggleCompleteStatus(n)}));var r=document.createElement("input");r.setAttribute("type","text"),r.setAttribute("name","description"),r.readOnly=!0,r.setAttribute("value",e.description),r.classList.add("description"),r.addEventListener("focusin",(function(){r.readOnly=!1,n.classList.add("active")})),r.addEventListener("focusout",(function(){r.readOnly=!0,n.classList.remove("active")}));var i=document.createElement("div");i.classList.add("actionIcon","icon");var a=document.createElement("button");a.setAttribute("type","button"),a.innerHTML='\n    <svg\n      class="icon"\n      fill="none"\n      stroke="currentColor"\n      viewBox="0 0 24 24"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <path\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="2"\n        d="M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"\n      ></path>\n    </svg>\n    ';var s=document.createElement("button");s.setAttribute("type","button"),s.innerHTML='\n    <svg\n      class="icon"\n      fill="none"\n      stroke="currentColor"\n      viewBox="0 0 24 24"\n      xmlns="http://www.w3.org/2000/svg"\n    >\n      <path\n        stroke-linecap="round"\n        stroke-linejoin="round"\n        stroke-width="2"\n        d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"\n      ></path>\n    </svg>\n    ',s.addEventListener("click",(function(){return t.removeItem(n)})),i.appendChild(a),i.appendChild(s),e.completed&&n.classList.add("completed"),n.appendChild(o),n.appendChild(r),n.appendChild(i),this.wrapper.appendChild(n)}},{key:"addNewItem",value:function(e){var t={index:this.todos.length,description:e,completed:!1};this.todos.push(t),this.isStorageAvailable&&window.localStorage.setItem(this.storageName,JSON.stringify(this.todos)),this.addToPage(t)}},{key:"refreshTodosOnPage",value:function(){this.updateStorage(),this.removeAllFromPage(),this.addAllToPage()}},{key:"removeItem",value:function(e){var t=Number(e.id.match(/\d+$/));this.todos=this.todos.filter((function(e){return e.index!==t})),this.todos=this.sortList(),this.refreshTodosOnPage()}},{key:"removeAllCompleted",value:function(){this.todos=this.todos.filter((function(e){return!e.completed})),this.todos=this.sortList(),this.refreshTodosOnPage()}},{key:"toggleCompleteStatus",value:function(e){e.classList.toggle("completed");var t=Number(e.id.match(/\d+$/));this.todos[t].completed=e.classList.contains("completed"),this.updateStorage()}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();r.e(654).then(r.bind(r,654));var d=new l(document.getElementById("todo-list")),c=document.getElementById("todo-form");c.addEventListener("submit",(function(e){e.preventDefault(),d.addNewItem(c.description.value),c.description.value=""})),document.getElementById("clear-all").addEventListener("click",(function(){d.removeAllCompleted()}))})();